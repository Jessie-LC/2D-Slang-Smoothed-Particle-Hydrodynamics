{
  "version": 3,
  "sources": ["pack.ts"],
  "sourcesContent": ["export function configureRenderer(renderer: RendererConfig): void {\n    renderer.sunPathRotation = 0.0;\n    renderer.ambientOcclusionLevel = 0.0;\n    renderer.mergedHandDepth = false;\n    renderer.disableShade = false;\n\n    renderer.render.sun = false;\n    renderer.render.horizon = false;\n    renderer.render.clouds = false;\n    renderer.render.moon = false;\n    renderer.render.vignette = false;\n    renderer.render.waterOverlay = false;\n    renderer.render.entityShadow = false;\n    renderer.render.stars = false;\n}\n\nconst numCellsX = 16;\nconst numCellsY = 16;\nconst cellCount = numCellsX * numCellsY;\n\nconst particleGroupSize = 96;\nconst particleGroupCount = 96;\nconst particleCount = particleGroupSize * particleGroupCount;\nconst particleBufferSize = 84 * particleCount;\n\nexport function configurePipeline(pipeline: PipelineConfig): void {\n    const mainTexture = pipeline.createTexture('mainTexture')\n                        .format(Format.RGBA16F)\n                        .width(screenWidth)\n                        .height(screenHeight)\n                        .mipmap(false)\n                        .clear(false)\n                        .build();\n\n    const globalDefines = pipeline.createExportList()\n                          .addInt('PARTICLE_COUNT', particleCount)\n                          .addInt('PARTICLE_GROUP_SIZE', particleGroupSize)\n                          .build();\n\n    pipeline.setGlobalExport(globalDefines);\n\n    pipeline.createBuffer('particles', particleBufferSize, false);\n\n    const preRenderStage = pipeline.forStage(Stage.SCREEN_SETUP);\n\n    preRenderStage.createCompute('initialize-particles')\n    .location(\"programs/initialize.slang\", 'InitializeParticles')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n\n    preRenderStage.createCompute('initialize-density')\n    .location(\"programs/simulation/density.slang\", 'CalculateDensity')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    preRenderStage.createCompute('initialize-gradh')\n    .location(\"programs/simulation/gradh.slang\", 'CalculateGradH')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n\n    preRenderStage.end();\n\n    const simulationStage = pipeline.forStage(Stage.PRE_RENDER);\n\n    //simulationStage.createCompute('calculate-acceleration-1')\n    //.location(\"programs/simulation/acceleration.slang\", 'calculateAcceleration')\n    //.workGroups(particleGroupCount, 1, 1)\n    //.compile();\n\n    simulationStage.createCompute('calculate-density-1')\n    .location(\"programs/simulation/density.slang\", 'CalculateDensity')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-gradh-1')\n    .location(\"programs/simulation/gradh.slang\", 'CalculateGradH')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-acceleration-1')\n    .location(\"programs/simulation/acceleration.slang\", 'CalculateAcceleration')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-velocity-1')\n    .location(\"programs/simulation/integrate-velocity.slang\", 'IntegrateVelocity')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n\n    simulationStage.createCompute('calculate-position')\n    .location(\"programs/simulation/integrate-position.slang\", 'IntegratePosition')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n\n    simulationStage.createCompute('calculate-density-2')\n    .location(\"programs/simulation/density.slang\", 'CalculateDensity')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-gradh-2')\n    .location(\"programs/simulation/gradh.slang\", 'CalculateGradH')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-acceleration-2')\n    .location(\"programs/simulation/acceleration.slang\", 'CalculateAcceleration')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n    simulationStage.createCompute('calculate-velocity-2')\n    .location(\"programs/simulation/integrate-velocity.slang\", 'IntegrateVelocity')\n    .workGroups(particleGroupCount, 1, 1)\n    .compile();\n\n    simulationStage.end();\n\n    pipeline.createCombinationPass('programs/post/combination.slang')\n        .compile();\n}"],
  "mappings": ";AAAO,SAAS,kBAAkB,UAAgC;AAC9D,WAAS,kBAAkB;AAC3B,WAAS,wBAAwB;AACjC,WAAS,kBAAkB;AAC3B,WAAS,eAAe;AAExB,WAAS,OAAO,MAAM;AACtB,WAAS,OAAO,UAAU;AAC1B,WAAS,OAAO,SAAS;AACzB,WAAS,OAAO,OAAO;AACvB,WAAS,OAAO,WAAW;AAC3B,WAAS,OAAO,eAAe;AAC/B,WAAS,OAAO,eAAe;AAC/B,WAAS,OAAO,QAAQ;AAC5B;AAEA,IAAM,YAAY;AAClB,IAAM,YAAY;AAClB,IAAM,YAAY,YAAY;AAE9B,IAAM,oBAAoB;AAC1B,IAAM,qBAAqB;AAC3B,IAAM,gBAAgB,oBAAoB;AAC1C,IAAM,qBAAqB,KAAK;AAEzB,SAAS,kBAAkB,UAAgC;AAC9D,QAAM,cAAc,SAAS,cAAc,aAAa,EACnC,OAAO,OAAO,OAAO,EACrB,MAAM,WAAW,EACjB,OAAO,YAAY,EACnB,OAAO,KAAK,EACZ,MAAM,KAAK,EACX,MAAM;AAE3B,QAAM,gBAAgB,SAAS,iBAAiB,EACzB,OAAO,kBAAkB,aAAa,EACtC,OAAO,uBAAuB,iBAAiB,EAC/C,MAAM;AAE7B,WAAS,gBAAgB,aAAa;AAEtC,WAAS,aAAa,aAAa,oBAAoB,KAAK;AAE5D,QAAM,iBAAiB,SAAS,SAAS,MAAM,YAAY;AAE3D,iBAAe,cAAc,sBAAsB,EAClD,SAAS,6BAA6B,qBAAqB,EAC3D,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AAET,iBAAe,cAAc,oBAAoB,EAChD,SAAS,qCAAqC,kBAAkB,EAChE,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,iBAAe,cAAc,kBAAkB,EAC9C,SAAS,mCAAmC,gBAAgB,EAC5D,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AAET,iBAAe,IAAI;AAEnB,QAAM,kBAAkB,SAAS,SAAS,MAAM,UAAU;AAO1D,kBAAgB,cAAc,qBAAqB,EAClD,SAAS,qCAAqC,kBAAkB,EAChE,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,mBAAmB,EAChD,SAAS,mCAAmC,gBAAgB,EAC5D,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,0BAA0B,EACvD,SAAS,0CAA0C,uBAAuB,EAC1E,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,sBAAsB,EACnD,SAAS,gDAAgD,mBAAmB,EAC5E,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AAET,kBAAgB,cAAc,oBAAoB,EACjD,SAAS,gDAAgD,mBAAmB,EAC5E,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AAET,kBAAgB,cAAc,qBAAqB,EAClD,SAAS,qCAAqC,kBAAkB,EAChE,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,mBAAmB,EAChD,SAAS,mCAAmC,gBAAgB,EAC5D,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,0BAA0B,EACvD,SAAS,0CAA0C,uBAAuB,EAC1E,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AACT,kBAAgB,cAAc,sBAAsB,EACnD,SAAS,gDAAgD,mBAAmB,EAC5E,WAAW,oBAAoB,GAAG,CAAC,EACnC,QAAQ;AAET,kBAAgB,IAAI;AAEpB,WAAS,sBAAsB,iCAAiC,EAC3D,QAAQ;AACjB;",
  "names": []
}
